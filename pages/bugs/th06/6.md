[title=EoSD: Laser Midpoint Bug]
# Laser Midpoint Bug
[hr_major]

## [specs]  
[hr_minor]

* **Versions**: [unknown]1.00[/unknown] - [unknown]1.01[/unknown] - [unknown]1.02[/unknown] - [unknown]1.02a[/unknown] - [unknown]1.02b[/unknown] - [unknown]1.02c[/unknown] - [unknown]1.02d[/unknown] - [unknown]1.02e[/unknown] - [unknown]1.02f[/unknown] - [yes]1.02h[/yes]
* **Difficulty**: [yes]Easy[/yes] - [yes]Normal[/yes] - [yes]Hard[/yes] - [yes]Lunatic[/yes] - [yes]Extra[/yes]
* **Mode**: [yes]Main game[/yes] - [yes]Practice mode[/yes]
* **Shottype**: [yes]ReimuA[/yes] - [yes]ReimuB[/yes] - [yes]MarisaA[/yes] - [yes]MarisaB[/yes]

## [what]
[hr_minor]

When a straight laser spawns, there is a small period of time before the laser fully appears and disappears. During these times, the laser only shows a thin warning line that warns the player about a spawning/despawning laser. This warning line usually does not have a hitbox except in one spot, which is in the middle of the laser.

[img=bugs/th06/6_midpoint_laser.png, figtitle=This image shows CHARACTER being hit by a laser as the laser is STATEing, which should not happen., alt=An in-game screenshot of CHARACTER dying to BOSS's attack.]

TODO: add gif of remilia 1st spell here. see DMs

## [how]
[hr_minor]

This bug can be replicated by being at the midpoint of the laser while the laser is spawning or despawning. In EoSD, this bug can happen on almost any attack that features a laser. 

Below is a table listing every section of the game with a laser, and whether it's possible to get hit on the spawning phase, the despawning phase, or if it is not possible at all:

TODO: design table with following structure:
Pattern name/location - Can be hit on spawning phase? - Can be hit on despawning phase?
do it for every pattern with laser, analyze this by looking at every pattern in ecl

## [why]
[hr_minor]


1. explain laser states

[img=bugs/th06/6_laser_states.png, figtitle=This image shows all laser stages labelled 1 through 5. (1) Spawning laser without hitbox. (2) Spawning laser with hitbox. (3) Active laser. (4) Despawning laser with hitbox. (5) Despawning laser without hitbox., alt=Four lasers, each representing a different state from left to right..]

2. explain the mixup of length and width of laser causing it. explain the "possible intended" fix but also explain consequence of said fix. show before/after fix with img side by side comparison

3. but why this bug happen on certain patterns and not every laser?:
explain laser parameters:
        laser->startTime = bulletProps->startTime;
        laser->duration = bulletProps->duration;
        laser->despawnDuration = bulletProps->despawnDuration;
        laser->hitboxStartTime = bulletProps->hitboxStartTime;
        laser->hitboxEndDelay = bulletProps->hitboxEndDelay;

4. explain conditions for it to happen: spawning phase. provide images if necessary

5. explain conditions for it to happen: despawning phase. provide images if necessary

6. conclusion/summary

[hr_major]
## [links]
[hr_minor]
### [rpy]
[hr_minor]

+ [replay=6aLI1vMJ2e]

### [vid]
[hr_minor]

[buildCategoriesTable]