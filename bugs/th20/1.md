[title=FW: Point Player Hitbox Bug]
# Point Player Hitbox Bug
[hr_major]

## [specs]  
[hr_minor]

* **Versions**: [yes]1.00a[/yes]
* **Difficulty**: [yes]Easy[/yes] - [yes]Normal[/yes] - [yes]Hard[/yes] - [yes]Lunatic[/yes] - [yes]Extra[/yes]
* **Mode**: [yes]Main game[/yes] - [yes]Practice mode[/yes] - [yes]Spell practice[/yes]  
* **Shottype**: [yes]Reimu[/yes] - [yes]Marisa[/yes]

## [what]
[hr_minor]

The player's hitbox is a point with no radius, effectively making the player's hitbox much smaller than what it is supposed to be.

<!-- add the ygb visualization to show that the player hitbox is indeed a point -->

[img=bugs/th20/1_ygb_hitbox.png, figtitle=A modified version of th20 in which Reimu has an increased hitbox sized similar to the spell-card "You Grow Bigger!" in th14. This image exaggerates the point that the player's hitbox is a point with no radius., alt=An in-game screenshot of Reimu with a massive hitbox.]

## [how]
[hr_minor]

The final player hitbox size is calculated as follows:

[code]final_hitbox = (hitbox_radius * hitbox_scale) / 100.0[/code]

* ``final_hitbox``: the final hitbox radius of the player
* ``hitbox_radius``: the hitbox radius of the player, which is ``3`` for both Reimu and Marisa.
* ``hitbox_scale``: the hitbox scalar, which is a value between ``[0, 100]``.

For the point player hitbox bug to happen, ``hitbox_scale`` must be ``0``.
<!-- (hitbox_scale = clamp(0, *(PLAYER_PTR+0xE8), 100)) nut *(PLAYER_PTR+0xE8) is initialized to 0 so scale = 0 meaning your hitbox gets scaled to it being one point -->

## [why]
[hr_minor]

The variable ``hitbox_scale`` is initialized to ``0`` and no other part of the code modifies it, meaning that its value will always remain ``0`` making ``final_hitbox`` always be ``0`` as well. This causes the player hitbox to be a single point.

[hr_major]
## [links]
[hr_minor]
<!-- ### [rpy]
[hr_minor]
### [vid]
[hr_minor] -->

None so far.

[buildCategoriesTable]