[title=FW: Yellow-2 Shot Desync]
# Yellow-2 Shot Desync
[hr_major]

## [specs]  
[hr_minor]

* **Versions**: [yes]1.00a[/yes]
* **Difficulty**: [yes]Easy[/yes] - [yes]Normal[/yes] - [yes]Hard[/yes] - [yes]Lunatic[/yes] - [no]Extra[/no]
* **Mode**: [yes]Main game[/yes] - [no]Practice mode[/no] - [no]Spell practice[/no]  
* **Shottype**: [yes]Reimu[/yes] - [yes]Marisa[/yes]

## [what]
[hr_minor]

Using the Yellow-2 stone for the unfocus or focus stone might desync your game. This only affects stages after Stage 1: [hl2]Stages 2 through 6[/hl2]. In other words, only main game credits are counted: stage practice, spell practice, and Extra are not affected.

[img=bugs/th20/3_desync.png, figtitle=Two screenshots of the same replay taken on the same frame. The image shows a clear difference in the position of the Yellow-2 stone., alt=An in-game screenshot of two Marisa's with differing subshots.]

## [how]
[hr_minor]

There are two different ways to desync with Yellow-2:

1. If the player starts a Yellow-2 replay on a stage [hl2]between Stage 2 and Stage 6[/hl2], the replay will desync. Playing the replay starting from Stage 1 might play the replay correctly. 
2. However, if while playing the game, [hl2]the player skipped through the result screen[/hl2] with the Yellow-2 stone out at the end of a stage, the replay is guaranteed to desync even when starting from Stage 1.

## [why]
[hr_minor]

Yellow-2's options drift in a certain pattern over time. [hl2]The position of Yellow-2's options is not saved[/hl2] in the replay. 

There are two different ways to desync with Yellow-2:
1. Because the position of Yellow-2's options are not saved in the replay, when the game initialises the selected stage, [hl2]the options will have their default position[/hl2]. This is always going to be wrong if you select Stages 2 through 6 in your replay menu.
2. When the replay enters the result screen, [hl2]the replay fully waits out the 5 seconds before the stage transition despite that delay having been skipped in the run[/hl2]. The Yellow-2 options continue to fully drift those full 5 seconds, causing their position to become off-sync thus leading to the desync. 

[hr_major]
## [links]
[hr_minor]
### [rpy]
[hr_minor]

+ [replay=pYw9Lwc0Mi]
<!-- 
### [vid]
[hr_minor]

None so far. -->