[title=EoSD: Frame Perfect Attack Skip]
# Frame Perfect Attack Skip

[hr_major]  
## [specs]  
[hr_minor]

* **Versions**: [unknown]1.00[/unknown] - [unknown]1.01[/unknown] - [unknown]1.02[/unknown] - [unknown]1.02a[/unknown] - [unknown]1.02b[/unknown] - [unknown]1.02c[/unknown] - [unknown]1.02d[/unknown] - [unknown]1.02e[/unknown] - [unknown]1.02f[/unknown] - [yes]1.02h[/yes]
* **Difficulty**: [yes]Easy[/yes] - [yes]Normal[/yes] - [yes]Hard[/yes] - [yes]Lunatic[/yes] - [yes]Extra[/yes]
* **Mode**: [yes]Main game[/yes] - [yes]Practice mode[/yes]
* **Shottype**: [yes]ReimuA[/yes] - [yes]ReimuB[/yes] - [yes]MarisaA[/yes] - [yes]MarisaB[/yes]

## [what]
[hr_minor]

The player must trigger this glitch on a non-spell for it to have any effect. This glitch can be done on all non-spells as well as some spells. Usually, the subsequent spell is skipped but in few cases something special happens.

If done on Cirno's second non-spell, all her subsequent spells are skipped and the fight ends.
If done on Meiling's third non-spell, all her subsequent spells are skipped and the fight ends.
If done on Remilia's fourth non-spell, the subsequent spell is skipped, but the final spell-card is not skipped. Instead, the player faces the final spell-card "Red Magic", regardless of difficulty. This means it is possible to face Red Magic on Hard and Lunatic mode.

Also, it is possible to do the skip on Meiling's third spell and Cirno's second spell.

## [how]
[hr_minor]

The player must end the non-spell exactly during the last frame of the non-spell, meaning it is a frame-perfect skip. 

## [why]
[hr_minor]

When the player ends the attack by attacking, a [hl2]life callback[/hl2] is called.
When the player ends the attack by timing it out, a [hl2]timer callback[/hl2] is called.
When the final attack of the HP bar is ended, a [hl2]death callback[/hl2] is called.

So when both activate at once, the sequence of events goes like this:
1. Activate the life callback, resetting the context stack and initializing the current context to the life callback sub.
2. Set the timer callback sub to the death callback sub
3. Activate the timer callback, resetting the context stack and initializing the current context to the timer callback sub (which is now the death callback sub)


[hr_major]
## [links]
[hr_minor]
### [rpy]
[hr_minor]

+ [replay=9CI4n4gGg9]
+ [replay=nNFGaBA32Y]
+ [replay=3HBhLzC6YM]
+ [replay=ZLo1eqDg26]
+ [replay=hsyPP2YX5g]
+ [replay=VPemRVi0Bq]
+ [replay=XuaDwGpKzv]
+ [replay=uPN0pnRh19]


### [vid]
[hr_minor]

<iframe class="fit-image" src="https://clips.twitch.tv/embed?clip=SuaveOilyCookieUWot-4wskJPW_-DwktBum&parent=nylilsa.github.io" frameborder="0" allowfullscreen="true" scrolling="no" height="378" width="620"></iframe>


