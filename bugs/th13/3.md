[title=TD: Yoshika Weird Behaviour]
# Yoshika Weird Behaviour
[hr_major]

## [specs]
[hr_minor]

* **Versions**: [yes]1.00a[/yes] - [yes]1.00b[/yes] - [yes]1.00c[/yes]
* **Difficulty**: [yes]Easy[/yes] - [yes]Normal[/yes] - [yes]Hard[/yes] - [yes]Lunatic[/yes] - [no]Extra[/no] - [no]Overdrive[/no]
* **Mode**: [yes]Main game[/yes] - [yes]Practice mode[/yes] - [yes]Spell practice[/yes]
* **Shottype**: [no]Reimu[/no] - [yes]Marisa[/yes] - [no]Sanae[/no] - [yes]Youmu[/yes]

## [what]
[hr_minor]

Sometimes when Yoshika is dead, she will not be revived by Seiga: Seiga continues to shoot bullets as if Yoshika is still alive. This behaviour only happens on the first two spell cards of Seiga regardless of difficulty. Additionally, this behaviour is most commonly encountered in practice mode, and extremely rarely in a real run.

## [how]
[hr_minor]



## [why]
[hr_minor]

The game uses global variables (put them here) for certain patterns. When a stage is loaded, every global variable's value is set to 0.

<code block showing that every global variable is declared to 0>

This initialisation is done every time a new stage is loaded into the memory, which is when you load a stage through either a stage transition or from the main menu. Note that this initialisation is not done when you reload the stage by e.g. Esc + R. For our interest, this issue is related to how global var [var] is accessed and written to by the game's code.

spell 1:

spell 2:

non 3:

note to self: check if it really really cannot happen here?

spell 3:

note to self: check if it really really cannot happen here?
This behaviour does not happen on Spell 3 despite the same logic being applied. This is because non 3 overwrites the global variable and sets it to 1 when she is alive, and 0 when she is dead

[hr_major]
## [links]
[hr_minor]
### [rpy]
[hr_minor]
### [vid]
[hr_minor]
