[title=IN: Dialogue Pause Desync]  
# Dialogue Pause Desync
  
[hr_major]  
## [specs]  
[hr_minor]
* **Versions**: [unknown]1.00[/unknown] - [unknown]1.00a[/unknown] - [unknown]1.00b[/unknown] - [unknown]1.00c[/unknown] - [yes]1.00d[/yes]
* **Difficullty**: [yes]Easy[/yes] - [yes]Normal[/yes] - [yes]Hard[/yes] - [yes]Lunatic[/yes] - [yes]Extra[/yes] - [no]Last Word[/no]
* **Mode**: [yes]Main game[/yes] - [yes]Practice mode[/yes] - [no]Spell Practice[/no]
* **Shottype**: [yes]Border Team[/yes] - [yes]Magic Team[/yes] - [yes]Ghost Team[/yes] - [yes]Scarlet Team[/yes] - [yes]Reimu[/yes] - [yes]Yukari[/yes] - [yes]Marisa[/yes] - [yes]Alice[/yes] - [yes]Youmu[/yes] - [yes]Yuyuko[/yes] - [yes]Sakuya[/yes] - [yes]Remilia[/yes]


## [what]
[hr_minor]

By ausing during dialogue in-game, this may result in a desync. The desync may not be noticable until (very) late into the boss.  

## [how]
[hr_minor]

The desync is caused by holding ``Z`` while the game is exiting out of the pause menu.


## [why]
[hr_minor]

This has to do with how the game handles its button events.
In the games EoSD, PCB and IN, the **button events are still registered while paused**. This is not the case in modern games.

This can be visualised with the tool [a=https://www.shrinemaiden.org/forum/index.php?topic=16024.0]thinput[/a], which is a tool that views the player input when playing live or when watching a replay.

+ If a replay from **one of the games EoSD/PCB/IN** is played with the tool thinput active, and the game is paused, then **thinput should show that no buttons are being pressed**.
+ If a replay from **a game other than EoSD/PCB/IN** is played with the tool thinput active, and the game is paused, then **thinput should show that some of the buttons are being pressed**.


### Button events
[hr_minor]

There are three button events:
1. Key is pressed 
2. Key is held
3. Key is released

Here are some actions that are done when a **key is held**:
+ Player shooting
+ Player bombing
+ Player moving
+ Skipping through dialogue (by using ``Ctrl`` button)

Here is an action that is done when a **key is pressed**
+ Skipping through dialogue (by using ``Z`` button)

### Replay mode vs live playthrough

Consider the following table:

| Global timer | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 |
|---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| In-game timer | 1 | 2 | 3 | 4 | 5 | [bg=red]5 | 5 | 5 | 5[/bg] | 6 | 7 | 8 | 9 |
| Is Z button held? | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ✔️ | ✔️ | ✔️ | ✔️ | ✔️ | ✔️ |

[bg=blue]plan for now:
i need a way to highlight certain cells
maybe put the entire table between braces, which then checks for all elements that have a \[bg=red\] to it? [][]
[/bg]

[hr_major]
## [links]
[hr_minor]
### [rpy]
[hr_minor]
### [vid]
[hr_minor]
### [misc]
[hr_minor]

[a=https://youtu.be/kpk2tdsPh0A?t=75]SM64 - Watch for Rolling Rocks - 0.5x A Presses (Commentated)[/a]